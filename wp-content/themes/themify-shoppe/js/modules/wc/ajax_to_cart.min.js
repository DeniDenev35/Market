let ThemifyShoppeAjaxCart;(($,h,_,m,u)=>{"use strict";let c=!1;const o=_.querySelectorAll("#header .icon-shopping-cart"),p=()=>{for(let t=o.length-1;-1<t;--t)o[t].classList.remove("tf_loader");const t=_.querySelector(".cart .icon-shopping-cart");t&&t.classList.remove("tf_loader")};if(h.body.on("adding_to_cart",(t,e,a)=>{h.trigger("themify_theme_spark",e);for(let t=o.length-1;-1<t;--t)o[t].className+=" tf_loader"}).on("wc_fragments_loaded",function(t,e,a){const o=_.tfId("cart-icon-count");null!==o&&this.classList.toggle("wc-cart-empty",void 0!==o.tfClass("cart_empty")[0])}).on("added_to_cart",function(t){if(p(),u.ajaxCartSeconds&&!1===c&&!this.classList.contains("post-lightbox")){c=!0;let o=parseInt(u.ajaxCartSeconds);if(_.body.classList.contains("cart-style-dropdown")){const e=_.tfClass("shopdock");for(let t=e.length-1;-1<t;--t)e[t].parentNode.classList.add("show_cart"),setTimeout(()=>{e[t].parentNode.classList.remove("show_cart"),c=!1},o)}else{const a=_.querySelector("#cart-link-mobile-link, #cart-link");if(null!==a){const r=a.getAttribute("href"),s=_.tfId(r.replace("#",""));null!==s&&(h.on("sidemenushow",(t,e,a)=>{r===t&&setTimeout(()=>{$(s).is(":hover")?s.tfOn("mouseleave",function(){a.hidePanel(),_.body.classList.remove("tf_auto_cart_open")},{once:!0,passive:!0}):(a.hidePanel(),_.body.classList.remove("tf_auto_cart_open")),c=!1},o)},!0),_.body.classList.add("tf_auto_cart_open"),setTimeout(()=>{a.click()},100))}}}}),"undefined"!=typeof wc_add_to_cart_params&&h.body.on("click",".remove_from_cart_button",function(t){t.preventDefault(),this.classList.remove("tf_close"),this.classList.add("tf_loader")}),ThemifyShoppeAjaxCart=async function(t){if(!(this.classList.contains("auction_form")||-1<m.location.search.indexOf("switch-subscription")||null!==this.closest(".product-type-external"))){t.preventDefault();const e=new FormData(this),a=this.tfClass("single_add_to_cart_button")[0],o=a?a.classList:null,r=this.querySelector('[name="add-to-cart"]');if(!(!r||o&&o.contains("loading"))){"INPUT"!==r.tagName&&e.set("add-to-cart",r.value),o&&(o.remove("added"),o.add("loading")),h.body.triggerHandler("adding_to_cart",[this.querySelector('[type="submit"]'),e]);try{const s=await h.fetch(e,null,null,woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","theme_add_to_cart"));if(!s)throw"error";if(!s.fragments&&!s.success)throw s.data;const c=s.fragments,n=s.cart_hash;if(c){const i=Object.keys(c);let a=null;for(let e=i.length-1;-1<e;e--)for(let t=(a=_.querySelectorAll(i[e])).length-1;-1<t;t--)a[t].className+=" updating",a[t].outerHTML=c[i[e]]}o&&o.add("added"),h.body.triggerHandler("added_to_cart",[c,n]),u.redirect&&(m.location.href=u.redirect)}catch(t){const l=_.createDocumentFragment(),d=_.createElement("div"),f=Array.isArray(t)?t:[t];await h.loadJs(h.url+"js/admin/notification",!!m.TF_Notification);for(let e=0;e<f.length;++e){let t=_.createElement("template");t.innerHTML=f[e],l.appendChild(t.content)}d.className="wc_errors",d.appendChild(l),await TF_Notification.showHide("error",d,3e3)}o&&o.remove("loading"),p()}}},u.ajaxSingleCart){const t=_.querySelector("form.cart");t&&t.tfOn("submit",ThemifyShoppeAjaxCart)}})(jQuery,Themify,document,window,themifyScript);